---
title: "/ext/droption/droption.h File Reference"
layout: default
permalink: /droption_8h.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_1036706e55c22cab35bc1c58ee689f1d.html">runner</a></li><li class="navelem"><a class="el" href="dir_629f8151d55d307162ff2d619fb1783d.html">work</a></li><li class="navelem"><a class="el" href="dir_84b917e355554dd3f3793c21ab4ddcaf.html">dynamorio</a></li><li class="navelem"><a class="el" href="dir_afee7b8fe0b60d0be677a736c14882ae.html">dynamorio</a></li><li class="navelem"><a class="el" href="dir_f77e1d2e42c59e73f6f106dd6cb6e635.html">ext</a></li><li class="navelem"><a class="el" href="dir_15067d1a46a9f9aee83a0634d0c0b42b.html">droption</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">droption.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Options parsing support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;iomanip&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbytesize__t.html">bytesize_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdroption__parser__t.html">droption_parser_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdroption__t.html">droption_t&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaba26721156b588d60274d3426b5292c"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="droption_8h.html#aaba26721156b588d60274d3426b5292c">twostring_t</a></td></tr>
<tr class="separator:aaba26721156b588d60274d3426b5292c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaa6638d4faaba3788e5af8a9090787ab"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787ab">droption_scope_t</a> { <br />
&#160;&#160;<a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787abad66279b622a4387e56937efff1ce23af">DROPTION_SCOPE_CLIENT</a> = 0x0001, 
<br />
&#160;&#160;<a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787ababd2273beda26efafd1ffa10e0cb277e1">DROPTION_SCOPE_FRONTEND</a> = 0x0002, 
<br />
&#160;&#160;<a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787aba10e0dbb30264696a8359061f128dde46">DROPTION_SCOPE_ALL</a> = (DROPTION_SCOPE_CLIENT | DROPTION_SCOPE_FRONTEND)
<br />
 }</td></tr>
<tr class="separator:aaa6638d4faaba3788e5af8a9090787ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65010746491646282dd2830a02bc92fd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fd">droption_flags_t</a> { <br />
&#160;&#160;<a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fda17988e3d7a4c8bd898cef2aee938c34c">DROPTION_FLAG_ACCUMULATE</a> = 0x0001, 
<br />
&#160;&#160;<a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fda658a671e41be15497db369bb60cfbc06">DROPTION_FLAG_SWEEP</a> = 0x0002, 
<br />
&#160;&#160;<a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fda9d35182ee672991322f1c1afd0f48ba9">DROPTION_FLAG_INTERNAL</a> = 0x0004
<br />
 }</td></tr>
<tr class="separator:a65010746491646282dd2830a02bc92fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac33405ef5e666f86d4cd826474fb3613"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="droption_8h.html#ac33405ef5e666f86d4cd826474fb3613">dr_parse_options</a> (<a class="el" href="dr__defines_8h.html#a68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a> client_id, std::string *error_msg, int *last_index)</td></tr>
<tr class="separator:ac33405ef5e666f86d4cd826474fb3613"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Options parsing support. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aaba26721156b588d60274d3426b5292c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba26721156b588d60274d3426b5292c">&#9670;&nbsp;</a></span>twostring_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;std::string, std::string&gt; <a class="el" href="droption_8h.html#aaba26721156b588d60274d3426b5292c">twostring_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A convenience typedef for options that take in pairs of values. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a65010746491646282dd2830a02bc92fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65010746491646282dd2830a02bc92fd">&#9670;&nbsp;</a></span>droption_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fd">droption_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These bitfield flags further specify the behavior of an option. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a65010746491646282dd2830a02bc92fda17988e3d7a4c8bd898cef2aee938c34c"></a>DROPTION_FLAG_ACCUMULATE&#160;</td><td class="fielddoc"><p>By default, if an option is specified multiple times on the command line, only the last value is honored. If this flag is set, repeated options accumulate, appending to the prior value (separating each appended value with a space by default or with a user-specified accumulated value separator if it was supplied to the <a class="el" href="classdroption__t.html">droption_t</a> constructor). This is supported for options of type std::string only. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65010746491646282dd2830a02bc92fda658a671e41be15497db369bb60cfbc06"></a>DROPTION_FLAG_SWEEP&#160;</td><td class="fielddoc"><p>By default, an option that does not match a known name and the current scope results in an error. If a string option exists with this flag set, however, all unknown options in the current scope that are known in another scope are passed to the last option with this flag set (which will typically also set <a class="el" href="droption_8h.html#a65010746491646282dd2830a02bc92fda17988e3d7a4c8bd898cef2aee938c34c">DROPTION_FLAG_ACCUMULATE</a>). Additionally, options that are specified and that have <a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787aba10e0dbb30264696a8359061f128dde46">DROPTION_SCOPE_ALL</a> are swept as well. The scope of an option with this flag is ignored. </p>
</td></tr>
<tr><td class="fieldname"><a id="a65010746491646282dd2830a02bc92fda9d35182ee672991322f1c1afd0f48ba9"></a>DROPTION_FLAG_INTERNAL&#160;</td><td class="fielddoc"><p>Indicates that this is an internal option and should be excluded from usage messages and documentation. </p>
</td></tr>
</table>

</div>
</div>
<a id="aaa6638d4faaba3788e5af8a9090787ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa6638d4faaba3788e5af8a9090787ab">&#9670;&nbsp;</a></span>droption_scope_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="droption_8h.html#aaa6638d4faaba3788e5af8a9090787ab">droption_scope_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These bitfield values specify whether an option is intended for use by a client for a tool frontend, or both. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aaa6638d4faaba3788e5af8a9090787abad66279b622a4387e56937efff1ce23af"></a>DROPTION_SCOPE_CLIENT&#160;</td><td class="fielddoc"><p>Acted on by the client only. </p>
</td></tr>
<tr><td class="fieldname"><a id="aaa6638d4faaba3788e5af8a9090787ababd2273beda26efafd1ffa10e0cb277e1"></a>DROPTION_SCOPE_FRONTEND&#160;</td><td class="fielddoc"><p>Acted on by the frontend only. </p>
</td></tr>
<tr><td class="fieldname"><a id="aaa6638d4faaba3788e5af8a9090787aba10e0dbb30264696a8359061f128dde46"></a>DROPTION_SCOPE_ALL&#160;</td><td class="fielddoc"><p>Acted on by both client and frontend. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac33405ef5e666f86d4cd826474fb3613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33405ef5e666f86d4cd826474fb3613">&#9670;&nbsp;</a></span>dr_parse_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool dr_parse_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dr__defines_8h.html#a68540a70b4f8150a4fe6dcec91bf8825">client_id_t</a>&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>error_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parses the options for client <code>client_id</code> and fills in any registered <a class="el" href="classdroption__t.html">droption_t</a> class fields. On success, returns true, with the index of the start of the remaining unparsed options, if any, returned in <code>last_index</code> (typically this will be options separated by "--"). On failure, returns false, and if <code>error_msg</code> != NULL, stores a string describing the error there. On failure, <code>last_index</code> is set to the index of the problematic option or option value.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd>This routine is not needed with the new <a class="el" href="dr__api_8h.html#a2b938c98dd186cc94eef6880f9e3c3e9">dr_client_main()</a> where <a class="el" href="classdroption__parser__t.html#a26d4d9753b91781202dbf7c964fcb8f9">droption_parser_t::parse_argv()</a> can be invoked directly. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO version 9.0.1 --- Mon Feb 14 2022 19:04:13 &nbsp; <img border=0 src="favicon.png">
</small></address>
